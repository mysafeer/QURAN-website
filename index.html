<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Platform Starter</title><div class="flex h-screen overflow-hidden">
    <aside class="w-64 bg-white border-r border-gray-200 overflow-y-auto hidden md:block" id="surah-sidebar">
        <div class="p-4 border-b bg-emerald-50">
            <h2 class="font-bold text-emerald-800 uppercase tracking-wider text-sm">Select Surah</h2>
        </div>
        <ul id="surah-list" class="divide-y divide-gray-100">
            </ul>
    </aside>

    <main class="flex-1 overflow-y-auto bg-gray-50 p-6" id="main-content">
        <div id="quran-container" class="max-w-3xl mx-auto space-y-6">
            <p class="text-center text-gray-500 mt-20">Select a Surah from the list to start reading.</p>
        </div>
    </main>
</div>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
    <style>
        .arabic-text { font-family: 'Amiri', serif; direction: rtl; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

<div class="max-w-4xl mx-auto p-6">
    <header class="text-center mb-10">
        <h1 class="text-3xl font-bold text-emerald-700">Advanced Quran Player</h1>
        <p class="text-gray-600">Surah Al-Fatiha (Example)</p>
    </header>

    <div id="quran-container" class="space-y-6">
        </div>
</div>

<script>
    async function fetchSurah(surahNumber) {
        const container = document.getElementById('quran-container');
        
        try {
            // 1. Fetch Arabic text with Audio and English translation in one go
            // edtion: quran-uthmani (Arabic), en.sahih (English), ar.alafasy (Audio)
            const response = await fetch(`https://api.alquran.cloud/v1/surah/${surahNumber}/editions/quran-uthmani,en.sahih,ar.alafasy`);
            const data = await response.json();
            
            const arabicVerses = data.data[0].ayahs;
            const englishVerses = data.data[1].ayahs;
            const audioVerses = data.data[2].ayahs;

            container.innerHTML = ''; // Clear loader

            arabicVerses.forEach((ayah, index) => {
                const card = document.createElement('div');
                card.className = "bg-white p-6 rounded-xl shadow-sm border border-gray-100";

                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <span class="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-sm font-bold">${ayah.numberInSurah}</span>
                        <p class="arabic-text text-3xl leading-loose text-right w-full">${ayah.text}</p>
                    </div>
                    <p class="text-gray-600 italic mb-4">${englishVerses[index].text}</p>
                    <audio controls class="w-full h-8">
                        <source src="${audioVerses[index].audio}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                `;
                container.appendChild(card);
            });

        } catch (error) {
            console.error("Error fetching Quran data:", error);
            container.innerHTML = `<p class="text-red-500">Failed to load Surah. Please check your connection.</p>`;
        }
    }

    // Call the function for Surah 1 (Al-Fatiha)
    fetchSurah(1);
</script>

</body>
</html>
